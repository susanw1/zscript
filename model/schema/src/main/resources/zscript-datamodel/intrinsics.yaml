intrinsics:
    requestFields:
    -   key: Z
        name: command
        description: which command to be executed
        typeDefinition:
            '@type': command
        required: yes
    responseFields:
    -   key: S
        name: status
        description: indicates success (0), failure (1-0xf) or error (0x10+)
        typeDefinition:
            '@type': number
        required: yes

    zchars:
    -   name: cmd
        ch: "Z"
        description: "command field to identify the specific command to execute"
    -   name: newline
        ch: "\n"
        description: "sequence terminator"
        separator: true
        mustEscape: true
    -   name: andthen
        ch: "&"
        description: "command separator with AND THEN semantics, executes second command only if first succeeded"
        separator: true
    -   name: orelse
        ch: "|"
        description: "command separator with OR ELSE semantics, executes second command only if first failed"
        separator: true
    -   name: openparen
        ch: "("
        description: "opens parenthesized commands to control logical sequencing"
        separator: true
    -   name: closeparen
        ch: ")"
        description: "closes parenthesized commands to control logical sequencing"
        separator: true
    -   name: responseMark
        ch: "!"
        description: "prefixed to all responses and notifications, to indicate notification source"
    -   name: locks
        ch: "%"
        description: "command sequence prefix to request specific locks to allow some concurrent access to resources"
        nonNumeric: true
    -   name: bigfieldHex
        ch: "+"
        description: "prefix for sequence of hex pairs to be sent in the big-field"
        nonNumeric: true
        bigField: true
    -   name: bigfieldQuoted
        ch: "\""
        description: "surrounds text to be sent as the big-field"
        nonNumeric: true
        mustEscape: true
        bigField: true
    -   name: stringEscape
        ch: "="
        description: "marks an escaped char within a text field, eg =3b"
        mustEscape: true
    -   name: comment
        ch: "#"
        description: "starts a comment, which is generally ignored by the receiver"
        nonNumeric: true
    -   name: addressing
        ch: "@"
        description: "marks the start of an address, eg @12.4.3"
    -   name: addressingContinue
        ch: "."
        description: "separates address components, eg @12.4.3"
    -   name: echo
        ch: "_"
        description: "special sequence-level field assigning a command number, echoed in the response"
    -   name: status
        ch: "S"
        description: "response status field"
    -   name: nullChar
        ch: "\0"
        description: "nulls are always ignored in command and response stream, so they can be used by channels to pad packets"
        ignoreAlways: true
        ignoreInCode: true
        mustEscape: true
    -   name: carriageReturn
        ch: "\r"
        description: "ignored outside of text fields to simplify newline handling"
        ignoreInCode: true
    -   name: tab
        ch: "\t"
        description: "may be used to make commands and responses more readable, ignored outside of text fields"
        ignoreInCode: true
    -   name: comma
        ch: ","
        description: "may be used to make commands and responses more readable, ignored outside of text fields"
        ignoreInCode: true
    -   name: space
        ch: " "
        description: "may be used to make commands and responses more readable, ignored outside of text fields"
        ignoreInCode: true


    status:
    -   code: success
        id: 0
        meaning: command success



    -   code: commandFail
        id: 1
        meaning: command failure

    -   code: commandFailControl
        id: 2
        meaning: command failed in order to control the program flow

    -   code: commandNoTarget
        id: 3
        meaning: target of command either non-existent or not responding

    -   code: commandTargetDoesNotSupport
        id: 4
        meaning: target of command does not support the requested functionality


    -   code: commandDataNotTransmitted
        id: 8
        meaning: data transmission not successful - may have failed or only been partial

    -   code: commandDataNotReceived
        id: 9
        meaning: data reception not successful - may have failed or only been partial



    -   code: bufferOvrError
        id: 16
        meaning: buffer overflow

    -   code: internalError
        id: 17
        meaning: impossible condition hit

    -   code: notActivated
        id: 18
        meaning: channel not activated for non-core command

    -   code: commandErrorControl
        id: 19
        meaning: command error in order to control the program flow


    -   code: fieldTooLong
        id: 32
        meaning: numeric field too long

    -   code: oddLength
        id: 33
        meaning: odd length big field

    -   code: unterminatedString
        id: 34
        meaning: missing end quote

    -   code: escapingError
        id: 35
        meaning: string escaping invalid

    -   code: illegalKey
        id: 36
        meaning: illegal character given as token key


    -   code: invalidLocks
        id: 48
        meaning: locks field too long or repeated

    -   code: invalidEcho
        id: 49
        meaning: echo field too long or repeated

    -   code: invalidComment
        id: 50
        meaning: comment with non-comment fields found


    -   code: repeatedKey
        id: 64
        meaning: two fields (in the same command) with the same key found

    -   code: invalidKey
        id: 65
        meaning: field not valid in this position

    -   code: commandNotFound
        id: 66
        meaning: given command does not exist or not specified

    -   code: addressNotFound
        id: 67
        meaning: given address does not exist or cannot be addressed


    -   code: missingKey
        id: 80
        meaning: a required field was not given

    -   code: valueOutOfRange
        id: 81
        meaning: a field or big field was given with a value which is not supported

    -   code: dataTooLong
        id: 82
        meaning: data transmission/reception exceeds maximum transmission length



    -   code: executionError
        id: 128
        meaning: generic failure mid-execution


    -   code: peripheralError
        id: 144
        meaning: a peripheral required for the command has failed fatally

    -   code: peripheralJam
        id: 145
        meaning: a peripheral required for the command is in a state it cannot exit (and may require rebooting)

    -   code: peripheralDisabled
        id: 146
        meaning: a peripheral required for the command is not currently enabled (and may require other commands or activity to enable)

    -   code: peripheralDisconnected
        id: 147
        meaning: a peripheral required for the command is not attached (and may require physical intervention to attach)

    -   code: peripheralBroken
        id: 148
        meaning: a peripheral required for the command has sustained permanent damage (and may require replacement)
